---
sidebar: sidebar
permalink: use/monitor-protect.html
keywords: proxy, cloud insights, connections, fluent bit, accounts, protect, security
summary: You can configure several optional settings to enhance your Astra Control Centre experience. If the network where you're running Astra Control Center requires a proxy for connecting to the Internet, configure that proxy server in Astra Control Center. You can use NetApp Cloud Insights to monitor and gain insight into your complete infrastructure. You can add a Fluent Bit connection to collect data and logs from your containers.
---

= Monitor and protect infrastructure
:hardbreaks:
:icons: font
:imagesdir: ../media/use/

You can configure several optional settings to enhance your Astra Control Center experience. If the network where you're running Astra Control Center requires a proxy for connecting to the Internet, configure that proxy server in Astra Control Center. To monitor and gain insight into your complete infrastructure, create a connection to NetApp Cloud Insights. To collect data and logs from your containers, add a Fluent Bit connection.

== Add a proxy server

If the network where you're running Astra Control Center requires a proxy for connecting to the Internet, configure that proxy server in Astra Control Center.

.Steps

. Log in to Astra Control Center using an account with *admin* privilege.
. Select *Account* > *Connections*.
. Select *Connect* from the drop-down list to add a proxy server.
+
image:proxy-connect.png[Shows the Connect option to enable proxy connection.]
. Enter the proxy server name or IP address and the proxy port number.
. If your proxy server requires authentication, select the checkbox, and enter the username and password.
. Select *Connect*.

.Result

If the connection was successful, the *HTTP Proxy* section of the *Account* > *Connections* page indicates that it is connected, and displays the server name.

image:proxy-new.png[Shows the proxy server successfully connected.]

=== Edit proxy server settings

You can edit the proxy server settings.

.Steps

. Log in to Astra Control Center using an account with *admin* privilege.
. Select *Account* > *Connections*.
. Select *Edit* from the drop-down list to edit the connection.
. Edit the server details and authentication information.
. Select *Save*.

=== Disable proxy server connection

You can disable the proxy server connection. You will be warned before you disable that potential disruption to other connections might occur.

.Steps

. Log in to Astra Control Center using an account with *admin* privilege.
. Select *Account* > *Connections*.
. Select *Disconnect* from the drop-down list to disable the connection.
. In the dialog box that opens, confirm the operation.

== Connect to Cloud Insights

To monitor and gain insight into your complete infrastructure, connect NetApp Cloud Insights with your Astra Control Center instance. Cloud Insights is included in your Astra Control Center license.

NOTE: Cloud Insights should be accessible from the network that Astra Control Center uses, or indirectly via a proxy server.

.What you'll need

* An Astra Control Center account with *admin* privileges.
* A valid Astra Control Center license.
* The Astra Control Center subscription and the Cloud Insights subscription should be registered under the same *admin* user.
* A proxy server if the network where you're running Astra Control Center requires a proxy for connecting to the Internet.

TIP: If you are new to Cloud Insights, familiarize yourself with the features and capabilities link:https://docs.netapp.com/us-en/cloudinsights/index.html[here^].

.Steps

. Log in to Astra Control Center using an account with *admin* privilege.
. Select *Account* > *Connections*.
. Select *Connect* where it shows *Disconnected* in the drop-down list to add the connection.
+
image:ci-connect.png[Shows the Connect option from the drop-down list to enable Cloud Insights connection.]
. Enter the Cloud Insights API token and the tenant URL.
+
You get the tenant URL when you get the Cloud Insights license. If you do not have the tenant URL, see the link:https://docs.netapp.com/us-en/cloudinsights/task_cloud_insights_onboarding_1.html[Cloud Insights documentation^].

.. To get the link:https://docs.netapp.com/us-en/cloudinsights/API_Overview.html#api-access-tokens[API token^], log in to your Cloud Insights tenant URL.
.. In Cloud Insights, generate a user-specific API key.
+
image:cloud-insights-api.png[Shows the Cloud Insights API token generation page.]
.. Copy the API key from Cloud Insights into Astra Control Center.
. Select *Connect*.

NOTE: To enable linking between Astra Control Center and Cloud Insights without requiring repeated logins, Astra Control Center needs an SSO configuration that matches Cloud Insights.

.Result

If the connection was successful, the *Cloud Insights* section of the *Account* > *Connections* page indicates that it is connected, and displays the tenant URL. You can visit Cloud Insights to see data being successfully received and displayed.

image:cloud-insights.png[Shows the Cloud Insights connection enabled in the Astra Control Center UI.]

If the connection failed for some reason, the status shows *Failed*. You can find the reason for failure under *Notifications* at the top-right side of the UI.

image:cloud-insights-notifications.png[Shows the error message when Cloud Insights connection fails.]

You can also find the same information under *Account* > *Notifications*.

=== Edit Cloud Insights connection

You can edit the Cloud Insights connection.

.Steps

. Log in to Astra Control Center using an account with *admin* privilege.
. Select *Account* > *Connections*.
. Select *Edit* from the drop-down list to edit the connection.
. Edit the Cloud Insights connection settings.
. Select *Save*.

=== Disable Cloud Insights connection

You can disable the Cloud Insights connection for a Kubernetes cluster managed by Astra Control Center. Disabling the Cloud Insights connection does not delete the telemetry data already uploaded to Cloud Insights.

.Steps

. Log in to Astra Control Center using an account with *admin* privilege.
. Select *Account* > *Connections*.
. Select *Disconnect* from the drop-down list to disable the connection.
. In the dialog box that opens, confirm the operation.

== Connect to Fluent Bit

You can enable a Fluent Bit endpoint to expose logs from your containers. This enables you to forward the logs that Astra is collecting to any Fluent Bit endpoint. The Fluent Bit connection is disabled by default.

.What you'll need

* An Astra Control Center account with *admin* privileges.
* Astra Control Center installed and running on a Kubernetes cluster.
* Pods logs should be available in `/var/log/containers/`.

.Steps

. Log in to Astra Control Center using an account with *admin* privilege.
. Select *Account* > *Connections*.
. Select *Connect* from the drop-down list to add the connection.
. Enter the host IP address, the port number, and API token (optional) for your Fluent Bit server.
. Select *Connect*.

.Result

If the connection was successful, the *Fluent Bit Endpoint* section of the *Account* > *Connections* page indicates that it is connected.

If the connection failed for some reason, the status shows *Failed*. You can find the reason for failure under *Notifications* at the top-right side of the UI.

You can also find the same information under *Account* > *Notifications*.

=== Edit Fluent Bit connection

You can edit the Fluent Bit connection to your Astra Control Center instance.

.Steps

. Log in to Astra Control Center using an account with *admin* privilege.
. Select *Account* > *Connections*.
. Select *Edit* from the drop-down list to edit the connection.
+
image:fb-connect.png[Shows the Edit option to edit the Fluent Bit connection.]
. Change the Fluent Bit endpoint settings.
. Select *Save*.

=== Disable Fluent Bit connection

You can disable the Fluent Bit connection to your Astra Control Center instance.

.Steps

. Log in to Astra Control Center using an account with *admin* privilege.
. Select *Account* > *Connections*.
. Select *Disconnect* from the drop-down list to disable the connection.
+
image:fb-connect.png[Shows the Disconnect option to disable the Fluent Bit connection.]
. In the dialog box that opens, confirm the operation.
